---
title: "React Hooksって何が嬉しいの？"
date: "2021-09-30"
tags:
  - React
---

以前、Twitterで「React Hooksって何が嬉しいの？」みたいなツイートを見かけたので書きます。

## 結論だけ知りたい人へ
- React Hooksの嬉しさの8割は、クラスコンポーネントを使わずに関数コンポーネントだけで書ける嬉しさ
- 残りの2割のほとんどは、ロジックの再利用がしやすいこと

## 書かないこと
- Vue.jsとの比較(Vue 3以降あんま知らんので)
  - React Hooks登場以前のReactとの比較をします

## クラスコンポーネントvs関数コンポーネント
Reactでコンポーネントを作成するにはクラスで作成する方法と、関数で作成する方法があります。
フロントエンドでJavaScriptを使うほとんどの人は、関数に比べてクラスが嫌いです。言語化が難しいのですが、クラスは直感的ではないのが一番の原因だと思います。thisやbindの概念はその最たる例です。
ただ、それでも(React Hooks登場以前には)クラスでコンポーネントを書くのが主流だったのは、クラスにできて関数にできないことが存在したからです。

## クラスにしかできないこと
代表的なものがstateの管理です。Hooks登場以前のReactでは、以下のようにしてstateを宣言していました。
```js
constructor(props) {
  super(props);
  this.state = {date: new Date()};
}
```
当然これはクラスでしか使えません。他にも`componentDidMount()`など、クラスでしか使えないものがいくつかあります。

## Hooksによってクラスにしかできないことが関数でもできるようになった
前述したstateの例で言うと、`useState`というhookを用いることで関数でもstateの管理ができるようになりました。
```js
const [date, setDate] = useState(new Date())
```
当然、型も付けられます。
```ts
const [date, setDate] = useState<Date>(new Date())
```
記述量の大小は状況によって様々ですが、constructorやthisを使わずにstateを扱えるようになりました。

## ロジックの再利用もしやすくなった
Hooksの特徴として、ロジックの再利用がしやすいこともあります。独自のロジックは、どうしてもコンポーネントと密に絡んで再利用しづらいものになります。クラスコンポーネントの時代ではextendsを用いてロジックを継承することもありましたが、規模が拡大するにつれ複雑化し、管理が大変になります。
React Hooksはこの問題も解決しました。
例えば[カスタムhook](https://ja.reactjs.org/docs/hooks-custom.html)を用いることによって、独自のロジックを**コンポーネントに依存させずに、使用時に依存性を注入する形にして**作成することができます。これによって、ロジックを簡単に再利用することができるようになりました。

## まとめ
React Hooks最高！
